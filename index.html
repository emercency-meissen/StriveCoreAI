<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>StriveCore AI</title>

<style>
body {
  background:#000;
  color:#fff;
  font-family:sans-serif;
  margin:0;
}

#header {
  padding:10px;
  border-bottom:1px solid #333;
}

#title {
  font-size:22px;
  font-weight:bold;
}

#emergency {
  color:#ff4444;
  font-size:14px;
}

#chat {
  height:75vh;
  overflow:auto;
  padding:10px;
}

#inputArea {
  padding:10px;
  border-top:1px solid #333;
}

#input {
  width:70%;
  padding:6px;
  background:#000;
  color:#fff;
  border:1px solid #444;
}

button {
  padding:6px 10px;
  background:#111;
  color:#fff;
  border:1px solid #444;
  cursor:pointer;
}

.adminMenu {
  position:fixed;
  bottom:20px;
  right:20px;
  background:#111;
  border:1px solid #444;
  padding:10px;
  display:none;
  font-size:14px;
}
</style>
</head>

<body>

<div id="header">
  <div id="title">StriveCore AI</div>
  <div id="emergency">‚ö†Ô∏è Emergency Mode aktiv ‚Äì System wird √ºberwacht</div>
</div>

<div id="chat"></div>

<div id="inputArea">
  <input id="input" placeholder="Nachricht eingeben">
  <button onclick="send()">Senden</button>
</div>

<!-- ADMIN MEN√ú -->
<div class="adminMenu" id="adminMenu">
  <b>STRIVECORE AI ADMIN MEN√ú</b><br><br>

  <button onclick="setStatus('online')">üü¢ Online</button>
  <button onclick="setStatus('offline')">üî¥ Offline</button><br><br>

  <input id="banIP" placeholder="IP"><br>
  <input id="banTime" type="number" placeholder="Stunden"><br>
  <button onclick="ban()">IP bannen</button>
</div>

<script>
const chat = document.getElementById("chat");
const adminMenu = document.getElementById("adminMenu");
const input = document.getElementById("input");

function add(text) {
  chat.innerHTML += "<div>" + text + "</div>";
  chat.scrollTop = chat.scrollHeight;
}

async function send(msg=null) {
  const text = msg || input.value;
  if (!text) return;

  input.value = "";
  add("DU: " + text);

  const res = await fetch("https://strivecoreai.onrender.com/chat", {
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({ message:text })
  });

  const data = await res.json();
  add("KI: " + data.reply);

  if (data.admin === true) {
    adminMenu.style.display = "block";
  }
}

function setStatus(s) {
  send("__ADMIN_SET_STATUS__:" + s);
}

function ban() {
  const ip = banIP.value;
  const h = banTime.value;
  if (!ip || !h) return;
  send("__ADMIN_BAN__:" + ip + ":" + h);
}
</script>

</body>
</html>
