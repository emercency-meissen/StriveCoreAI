<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>StriveCore AI</title>

<style>
body { background:#000; color:#fff; font-family:sans-serif; }
#chat { height:80vh; overflow:auto; }

.header {
  margin-bottom:10px;
}

.warning {
  color:#ffcc00;
  font-size:14px;
}

.adminMenu {
  position:fixed;
  bottom:20px;
  right:20px;
  background:#111;
  border:1px solid #444;
  padding:10px;
  display:none;
  width:260px;
}

.adminLogs {
  margin-top:10px;
  background:#000;
  border:1px solid #333;
  padding:5px;
  height:100px;
  overflow:auto;
  font-size:12px;
}

button { margin:4px; }
</style>
</head>

<body>

<div class="header">
  <h2>StriveCore AI</h2>
  <div class="warning">‚ö†Ô∏è Emergency Mode aktiv ‚Äì System wird √ºberwacht</div>
</div>

<div id="chat"></div>

<input id="input">
<button onclick="send()">Senden</button>

<!-- ADMIN MEN√ú -->
<div class="adminMenu" id="adminMenu">
  <b>STRIVECORE AI ADMIN MEN√ú</b><br><br>

  <button onclick="setStatus('online')">üü¢ Online</button>
  <button onclick="setStatus('offline')">üî¥ Offline</button><br><br>

  <input id="banIP" placeholder="IP">
  <input id="banTime" placeholder="Std" type="number">
  <button onclick="ban()">Ban</button>

  <div class="adminLogs" id="adminLogs">
    <b>Logs:</b><br>
  </div>
</div>

<script>
const chat = document.getElementById("chat");
const adminMenu = document.getElementById("adminMenu");
const adminLogs = document.getElementById("adminLogs");

function add(text) {
  chat.innerHTML += "<div>" + text + "</div>";
  chat.scrollTop = chat.scrollHeight;
}

function log(text) {
  adminLogs.innerHTML += text + "<br>";
  adminLogs.scrollTop = adminLogs.scrollHeight;
}

async function send(msg=null) {
  const text = msg || input.value;
  input.value = "";
  if (!text) return;

  add("DU: " + text);

  const res = await fetch("https://strivecoreai.onrender.com/chat", {
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({ message:text })
  });

  const data = await res.json();
  add("KI: " + data.reply);

  if (data.admin === true) {
    adminMenu.style.display = "block";
    log("Admin eingeloggt");
  }

  if (data.log) {
    log(data.log);
  }
}

function setStatus(s) {
  log("Server -> " + s);
  send("__ADMIN_SET_STATUS__:" + s);
}

function ban() {
  const ip = banIP.value;
  const h = banTime.value;
  if (!ip || !h) return;
  log("Ban IP " + ip + " f√ºr " + h + "h");
  send("__ADMIN_BAN__:" + ip + ":" + h);
}
</script>

</body>
</html>
