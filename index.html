<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>StriveCore AI</title>

<style>
body {
  background:#000;
  color:#fff;
  font-family: Arial, sans-serif;
  margin:0;
}

header {
  padding:10px;
  border-bottom:1px solid #333;
}

#chat {
  height:70vh;
  overflow-y:auto;
  padding:10px;
}

.msg-user { color:#0f0; margin:5px 0; }
.msg-ai { color:#0af; margin:5px 0; }

#inputBar {
  display:flex;
  padding:10px;
  border-top:1px solid #333;
}

#input {
  flex:1;
  padding:8px;
  background:#111;
  color:#fff;
  border:1px solid #333;
}

button {
  background:#222;
  color:#fff;
  border:1px solid #444;
  padding:8px 12px;
  cursor:pointer;
}

/* üîê ADMIN MENU */
#adminMenu {
  position:fixed;
  right:15px;
  bottom:15px;
  background:#111;
  border:1px solid #555;
  padding:10px;
  width:260px;
  display:none;
}

#logs {
  background:#000;
  border:1px solid #333;
  height:120px;
  overflow:auto;
  font-size:12px;
  padding:5px;
}
</style>
</head>

<body>

<header>
  <h2>StriveCore AI</h2>
  <div>‚ö†Ô∏è Emergency Mode aktiv ‚Äì System wird √ºberwacht</div>
</header>

<div id="chat"></div>

<div id="inputBar">
  <input id="input" placeholder="Nachricht eingeben..." onkeydown="if(event.key==='Enter')send()">
  <button onclick="send()">Senden</button>
</div>

<!-- üîê ADMIN -->
<div id="adminMenu">
  <b>STRIVECORE AI ADMIN MEN√ú</b><br>
  <div id="adminIP"></div><br>

  <button onclick="setStatus('online')">üü¢ Online</button>
  <button onclick="setStatus('offline')">üî¥ Offline</button>

  <hr>
  <b>Logs</b>
  <div id="logs"></div>
</div>

<script>
const chat = document.getElementById("chat");
const input = document.getElementById("input");
const adminMenu = document.getElementById("adminMenu");
const logsBox = document.getElementById("logs");

function add(text, cls) {
  const d = document.createElement("div");
  d.className = cls;
  d.innerText = text;
  chat.appendChild(d);
  chat.scrollTop = chat.scrollHeight;
}

async function send(custom=null) {
  const text = custom || input.value;
  if (!text) return;
  input.value = "";

  add("DU: " + text, "msg-user");

  const res = await fetch("https://strivecoreai.onrender.com/chat", {
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({ message:text })
  });

  const data = await res.json();
  add("KI: " + data.reply, "msg-ai");

  if (data.admin) {
    adminMenu.style.display = "block";
    document.getElementById("adminIP").innerText =
      "Deine Admin-IP: " + data.adminIP;
  }

  if (data.logs) {
    logsBox.innerHTML = "";
    data.logs.forEach(l =>
      logsBox.innerHTML += `[${l.time}] ${l.ip}: ${l.text}<br>`
    );
  }
}

function setStatus(s) {
  send("__ADMIN_SET_STATUS__:" + s);
}
</script>

</body>
</html>
