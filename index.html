<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>StriveCore AI</title>

<style>
body {
  margin:0;
  background:#000;
  color:#fff;
  font-family:Arial, sans-serif;
  display:flex;
  flex-direction:column;
  height:100vh;
}

#chat {
  flex:1;
  padding:15px;
  overflow-y:auto;
  background:#000;
}

.msg {
  margin-bottom:10px;
  padding:10px 12px;
  border-radius:8px;
  max-width:80%;
  word-wrap:break-word;
}

.user {
  background:#1e90ff;
  align-self:flex-end;
}

.ai {
  background:#222;
  border:1px solid #333;
}

#inputArea {
  display:flex;
  padding:10px;
  background:#111;
  border-top:1px solid #333;
}

#input {
  flex:1;
  padding:10px;
  font-size:16px;
  background:#000;
  color:#fff;
  border:1px solid #444;
  outline:none;
}

button {
  margin-left:8px;
  padding:10px 16px;
  background:#1e90ff;
  border:none;
  color:#fff;
  cursor:pointer;
}

button:hover {
  opacity:0.8;
}

.adminMenu {
  position:fixed;
  bottom:20px;
  right:20px;
  background:#111;
  border:1px solid #444;
  padding:12px;
  display:none;
  width:220px;
}

.adminMenu b {
  display:block;
  margin-bottom:10px;
  text-align:center;
}

.adminMenu input {
  width:100%;
  margin-bottom:6px;
  padding:6px;
  background:#000;
  border:1px solid #444;
  color:#fff;
}
</style>
</head>

<body>

<div id="chat"></div>

<div id="inputArea">
  <input id="input" placeholder="Nachricht eingeben..." onkeydown="if(event.key==='Enter')send()">
  <button onclick="send()">Senden</button>
</div>

<div class="adminMenu" id="adminMenu">
  <b>STRIVECORE AI<br>ADMIN MENÃœ</b>

  <button onclick="setStatus('online')">ðŸŸ¢ Online</button>
  <button onclick="setStatus('offline')">ðŸ”´ Offline</button>

  <hr style="border-color:#333">

  <input id="banIP" placeholder="IP">
  <input id="banTime" placeholder="Stunden" type="number">
  <button onclick="ban()">IP bannen</button>
</div>

<script>
const chat = document.getElementById("chat");
const adminMenu = document.getElementById("adminMenu");
const input = document.getElementById("input");

function add(text, cls) {
  const div = document.createElement("div");
  div.className = "msg " + cls;
  div.innerText = text;
  chat.appendChild(div);
  chat.scrollTop = chat.scrollHeight;
}

async function send(msg=null) {
  const text = msg || input.value.trim();
  if (!text) return;

  input.value = "";
  add("DU: " + text, "user");

  const res = await fetch("https://strivecoreai.onrender.com/chat", {
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({ message:text })
  });

  const data = await res.json();
  add("KI: " + data.reply, "ai");

  if (data.admin === true) {
    adminMenu.style.display = "block";
  }
}

function setStatus(s) {
  send("__ADMIN_SET_STATUS__:" + s);
}

function ban() {
  const ip = banIP.value;
  const h = banTime.value;
  if (!ip || !h) return;
  send("__ADMIN_BAN__:" + ip + ":" + h);
}
</script>

</body>
</html>
