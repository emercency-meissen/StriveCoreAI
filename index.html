<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>StriveCore AI</title>
<style>
body { background:#0f0f0f;color:#fff;font-family:sans-serif }
#adminMenu {
  display:none;
  position:fixed;
  bottom:20px;
  right:20px;
  background:#111;
  padding:15px;
  border-radius:15px;
  width:320px;
}
button { margin:5px; padding:6px 10px }
pre { max-height:120px; overflow:auto; background:#000; padding:5px }
</style>
</head>
<body>

<h1>StriveCore AI</h1>

<input id="msg" placeholder="Nachricht..." style="width:300px">
<button onclick="send()">Senden</button>

<pre id="chat"></pre>

<div id="adminMenu">
<h3>STRIVECORE AI ADMIN MENÃœ</h3>
<button onclick="server('online')">ðŸŸ¢ Online</button>
<button onclick="server('offline')">ðŸ”´ Offline</button>
<button onclick="logout()">Logout</button>

<h4>ðŸ‘¥ Online IPs</h4>
<pre id="online"></pre>

<h4>ðŸš¨ Warnings</h4>
<pre id="warnings"></pre>

<h4>ðŸ“œ Logs</h4>
<pre id="logs"></pre>
</div>

<script>
async function send(custom){
  const msg = custom || document.getElementById("msg").value;
  document.getElementById("msg").value = "";

  const r = await fetch("/chat",{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({ message: msg })
  });

  const d = await r.json();
  document.getElementById("chat").textContent += "\n> " + msg + "\n" + d.reply + "\n";

  if(d.admin){
    document.getElementById("adminMenu").style.display="block";
    loadAdmin();
  }
}

async function loadAdmin(){
  const r = await fetch("/chat",{
    method:"POST",
    headers:{ "Content-Type":"application/json" },
    body:JSON.stringify({ message:"__ADMIN_STATUS__" })
  });
  const d = await r.json();

  document.getElementById("online").textContent = d.online.join("\n");
  document.getElementById("logs").textContent = d.logs.join("\n");
  document.getElementById("warnings").textContent =
    d.warnings.map(w=>`${w.ip} | ${w.keyword}\n${w.text}`).join("\n\n");
}

function server(m){
  send("__ADMIN_SERVER__:"+m);
}

function logout(){
  send("__ADMIN_LOGOUT__");
  document.getElementById("adminMenu").style.display="none";
}
</script>

</body>
</html>
