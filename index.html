<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8">
<title>StriveCore AI</title>
<meta name="viewport" content="width=device-width, initial-scale=1">
<style>
body{margin:0;background:#0b0b0b;color:#fff;font-family:Arial;display:flex;height:100vh}
aside{width:240px;background:#111;padding:10px}
main{flex:1;display:flex;flex-direction:column}
#chat{flex:1;padding:15px;overflow:auto}
.msg{margin:8px 0;max-width:80%}
.user{margin-left:auto;color:#aaa;text-align:right}
.ai{color:#fff}
input{width:100%;padding:12px;background:#111;color:#fff;border:1px solid #333}
#admin{position:fixed;left:20px;top:50%;transform:translateY(-50%);background:#111;border:1px solid #444;padding:10px;display:none;width:260px}
</style>
</head>
<body>

<aside>
<b>StriveCore AI</b><br><br>
<button onclick="newChat()">âž• Neuer Chat</button>
</aside>

<main>
<div id="chat"></div>
<input id="input" placeholder="Stelle irgendeine Frageâ€¦" onkeydown="if(event.key==='Enter')send()">
</main>

<div id="admin">
<b>ADMIN</b>
<div id="adminIP"></div>
<button onclick="server(true)">ðŸŸ¢ Online</button>
<button onclick="server(false)">ðŸ”´ Offline</button>
<input id="banIP" placeholder="IP">
<input id="banH" type="number" placeholder="Std">
<button onclick="ban()">Ban</button>
<hr>
<div id="logs"></div>
</div>

<script>
const API="https://strivecoreai.onrender.com";
let chatId="chat-"+Date.now();

function add(t,c){
  const d=document.createElement("div");
  d.className="msg "+c;
  d.textContent=t;
  chat.appendChild(d);
  chat.scrollTop=chat.scrollHeight;
}

async function send(){
  const text=input.value;
  input.value="";
  add(text,"user");
  const r=await fetch(API+"/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:text,chatId})});
  const d=await r.json();
  add(d.reply,"ai");
  if(d.admin){
    admin.style.display="block";
    adminIP.textContent="IP: "+d.ip;
    logs.innerHTML=(d.logs||[]).slice(-5).join("<br>");
  }
}

function newChat(){
  chat.innerHTML="";
  add("Willkommen bei StriveCore AI ðŸ‘‹","ai");
}

function server(on){
  fetch(API+"/admin/"+(on?"online":"offline"),{method:"POST"});
}
function ban(){
  fetch(API+"/admin/ban",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({target:banIP.value,hours:banH.value})});
}

add("Willkommen bei StriveCore AI ðŸ‘‹","ai");
</script>
</body>
</html>
